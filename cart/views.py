from django.shortcuts import renderfrom django.shortcuts import redirectfrom django.http import HttpResponsefrom cart import models as model1from products import models as model2from django.contrib.auth.models import User, auth# Create your views here.def addtocart(request,product_id,user,pos):	data=model2.products.objects.filter(product_id=product_id).first()	data.avl_quantity=data.avl_quantity-1;	data.save()	data1=model1.product_entry.objects.filter(product_id=product_id,user=user).first()	if data1 !=None:		data1.quantity=data1.quantity+1		data1.subtotal=data1.subtotal+data1.price		data1.save();	else:		user1=model1.product_entry(brand_name=data.brand_name,category=data.category,img_url=data.img_url,user=user,product_id=product_id,quantity=1,price=data.price,subtotal=data.price)		user1.save();	    	if pos=='h':		return redirect('/home')	else:		return cart(request,user)def cart(request,username):	try:		data=model1.product_entry.objects.filter(user=username)	except model1.product_entry.DoesNotExist:		data=None		print(data)	return render(request,'pages/cart.html',{'data':data})def remove(request,username,product_id,pos):    	data=model1.product_entry.objects.filter(user=username,product_id=product_id).first()    	if pos=='c':    		data.delete()    	else:    		data.quantity=data.quantity-1    		data.subtotal=data.subtotal-data.price    		data.save();    	if data.quantity==0:    		data.delete()    	return cart(request,username)	